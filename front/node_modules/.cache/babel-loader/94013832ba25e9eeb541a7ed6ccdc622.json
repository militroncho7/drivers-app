{"ast":null,"code":"var _jsxFileName = \"/Users/victor/ironhack/modulo3/drivers-app/front/src/pages/FindLeague.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom'; //Components\n\nimport FindLeagueView from 'components/screens/FindLeague';\nimport getLoggedUser from 'utils/getLoggedUser';\nexport default function FindLeague() {\n  const [name, setName] = useState('');\n  const [error, setError] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [leagues, setLeagues] = useState(null);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    try {\n      const user = getLoggedUser();\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        },\n        params: {\n          name\n        }\n      };\n      setIsSearching(true);\n      const response = await axios.get(`http://localhost:1234/league/find`, config);\n      setLeagues(response.data);\n      setIsSearching(false);\n    } catch (exception) {\n      setError(exception.response.data.message);\n    }\n  }\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  return /*#__PURE__*/React.createElement(FindLeagueView, {\n    onSubmit: handleSubmit,\n    onChangeName: handleChangeName,\n    error: error,\n    newLeague: name,\n    value: \"Go!\",\n    leagues: leagues,\n    isSearching: isSearching,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"sources":["/Users/victor/ironhack/modulo3/drivers-app/front/src/pages/FindLeague.js"],"names":["React","useState","axios","Redirect","FindLeagueView","getLoggedUser","FindLeague","name","setName","error","setError","isSearching","setIsSearching","leagues","setLeagues","handleSubmit","event","preventDefault","user","config","headers","Authorization","token","params","response","get","data","exception","message","handleChangeName","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,kBAAvB,C,CAEA;;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AAEA,eAAe,SAASC,UAAT,GAAsB;AACnC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;;AAEA,iBAAec,YAAf,CAA4BC,KAA5B,EAAmC;AACjCA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAI;AACF,YAAMC,IAAI,GAAGb,aAAa,EAA1B;AACA,YAAMc,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASH,IAAI,CAACI,KAAM;AAD7B,SADI;AAIbC,QAAAA,MAAM,EAAE;AACNhB,UAAAA;AADM;AAJK,OAAf;AAQAK,MAAAA,cAAc,CAAC,IAAD,CAAd;AACA,YAAMY,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,GAAN,CAAW,mCAAX,EAA+CN,MAA/C,CAAvB;AACAL,MAAAA,UAAU,CAACU,QAAQ,CAACE,IAAV,CAAV;AACAd,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD,KAdD,CAcE,OAAOe,SAAP,EAAkB;AAClBjB,MAAAA,QAAQ,CAACiB,SAAS,CAACH,QAAV,CAAmBE,IAAnB,CAAwBE,OAAzB,CAAR;AACD;AACF;;AAED,WAASC,gBAAT,CAA0Bb,KAA1B,EAAiC;AAC/BR,IAAAA,OAAO,CAACQ,KAAK,CAACc,MAAN,CAAaC,KAAd,CAAP;AACD;;AAED,sBACE,oBAAC,cAAD;AACE,IAAA,QAAQ,EAAEhB,YADZ;AAEE,IAAA,YAAY,EAAEc,gBAFhB;AAGE,IAAA,KAAK,EAAEpB,KAHT;AAIE,IAAA,SAAS,EAAEF,IAJb;AAKE,IAAA,KAAK,EAAC,KALR;AAME,IAAA,OAAO,EAAEM,OANX;AAOE,IAAA,WAAW,EAAEF,WAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAWD","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport {Redirect} from 'react-router-dom';\n\n//Components\nimport FindLeagueView from 'components/screens/FindLeague';\nimport getLoggedUser from 'utils/getLoggedUser';\n\nexport default function FindLeague() {\n  const [name, setName] = useState('');\n  const [error, setError] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [leagues, setLeagues] = useState(null);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    try {\n      const user = getLoggedUser();\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        },\n        params: {\n          name\n        }\n      };\n      setIsSearching(true);\n      const response = await axios.get(`http://localhost:1234/league/find`, config);\n      setLeagues(response.data);\n      setIsSearching(false);\n    } catch (exception) {\n      setError(exception.response.data.message);\n    }\n  }\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  return (\n    <FindLeagueView\n      onSubmit={handleSubmit}\n      onChangeName={handleChangeName}\n      error={error}\n      newLeague={name}\n      value=\"Go!\"\n      leagues={leagues}\n      isSearching={isSearching}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}