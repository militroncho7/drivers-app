{"ast":null,"code":"var _jsxFileName = \"/Users/victor/ironhack/modulo3/drivers-app/front/src/components/Pilot/index.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport useUserContext from 'hooks/useUserContext';\nimport updateLoggedUser from 'utils/updateLoggedUser'; //Components\n\nimport Button from 'components/ButtonLink/Button';\nconst styles = {\n  modal: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    zIndex: 1000,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    height: '100%',\n    background: 'rgba(0, 0, 0, 0.7)'\n  },\n  modalContent: {\n    background: 'white',\n    width: '400px',\n    height: 'auto',\n    padding: '25px'\n  }\n};\nexport default function Pilot({\n  _id,\n  driverId,\n  givenName,\n  familyName,\n  img,\n  permanentNumber,\n  initialValue,\n  dateOfBirth,\n  car,\n  market\n}) {\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [isSigninUp, setIsSigninUp] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    user,\n    setUser\n  } = useUserContext();\n\n  function handleSignUp() {\n    setIsConfirming(true);\n  }\n\n  function cancelSignUp() {\n    setIsConfirming(false);\n  }\n\n  const confirmSignUp = () => {// try {\n    //   const config = {\n    //     headers: {\n    //       Authorization: `Bearer ${user.token}`\n    //     }\n    //   };\n    //   // setIsSigninUp(true);\n    //   // const response = await axios.post(\n    //   //   `http://localhost:1234/league/${user.league._id}/sign-up/${_id}`,\n    //   //   null,\n    //   //   config\n    //   // );\n    //   // setUser(response.data);\n    //   setIsSigninUp(false);\n    //   // updateLoggedUser({\n    //   //   ...user,\n    //   //   drivers: response.data.drivers\n    //   // });\n    //   // setUser({\n    //   //   ...user,\n    //   //   money: 10\n    //   // });\n    // } catch (exception) {\n    //   setError(exception.response.data.message);\n    //   setIsSigninUp(false);\n    // }\n  };\n\n  const canSignUp = initialValue <= user.money;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isConfirming && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.modalContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"\\xBFConfirmas el fichaje?\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: cancelSignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"No\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => confirmSignUp(e, e.target.value),\n    value: _id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"S\\xED\"), isSigninUp && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 28\n    }\n  }, \"Fichando...\"), error && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }, error))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-market\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-pilot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pilot-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pilot-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, givenName, \" \", familyName)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  }, \"Numero:\"), \" \", permanentNumber), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, \"Valor:\"), \" \", initialValue, \" \\u20AC\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }, \"Fecha Nacimiento:\"), \" \", dateOfBirth))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"car-image\",\n    src: car,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  })))), canSignUp && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: handleSignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, \"FICHAR\")))));\n}","map":{"version":3,"sources":["/Users/victor/ironhack/modulo3/drivers-app/front/src/components/Pilot/index.js"],"names":["React","useState","axios","useUserContext","updateLoggedUser","Button","styles","modal","position","top","left","zIndex","display","alignItems","justifyContent","width","height","background","modalContent","padding","Pilot","_id","driverId","givenName","familyName","img","permanentNumber","initialValue","dateOfBirth","car","market","isConfirming","setIsConfirming","isSigninUp","setIsSigninUp","error","setError","user","setUser","handleSignUp","cancelSignUp","confirmSignUp","canSignUp","money","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport useUserContext from 'hooks/useUserContext';\nimport updateLoggedUser from 'utils/updateLoggedUser';\n\n//Components\nimport Button from 'components/ButtonLink/Button';\n\nconst styles = {\n  modal: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    zIndex: 1000,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    height: '100%',\n    background: 'rgba(0, 0, 0, 0.7)'\n  },\n  modalContent: {\n    background: 'white',\n    width: '400px',\n    height: 'auto',\n    padding: '25px'\n  }\n};\n\nexport default function Pilot({\n  _id,\n  driverId,\n  givenName,\n  familyName,\n  img,\n  permanentNumber,\n  initialValue,\n  dateOfBirth,\n  car,\n  market\n}) {\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [isSigninUp, setIsSigninUp] = useState(false);\n  const [error, setError] = useState(null);\n  const {user, setUser} = useUserContext();\n  function handleSignUp() {\n    setIsConfirming(true);\n  }\n\n  function cancelSignUp() {\n    setIsConfirming(false);\n  }\n\n  const confirmSignUp = () => {\n    // try {\n    //   const config = {\n    //     headers: {\n    //       Authorization: `Bearer ${user.token}`\n    //     }\n    //   };\n    //   // setIsSigninUp(true);\n    //   // const response = await axios.post(\n    //   //   `http://localhost:1234/league/${user.league._id}/sign-up/${_id}`,\n    //   //   null,\n    //   //   config\n    //   // );\n    //   // setUser(response.data);\n    //   setIsSigninUp(false);\n    //   // updateLoggedUser({\n    //   //   ...user,\n    //   //   drivers: response.data.drivers\n    //   // });\n    //   // setUser({\n    //   //   ...user,\n    //   //   money: 10\n    //   // });\n    // } catch (exception) {\n    //   setError(exception.response.data.message);\n    //   setIsSigninUp(false);\n    // }\n  };\n\n  const canSignUp = initialValue <= user.money;\n  return (\n    <>\n      {isConfirming && (\n        <div style={styles.modal}>\n          <div style={styles.modalContent}>\n            <p>¿Confirmas el fichaje?</p>\n            <button onClick={cancelSignUp}>No</button>\n            <button onClick={(e) => confirmSignUp(e, e.target.value)} value={_id}>\n              Sí\n            </button>\n            {isSigninUp && <div>Fichando...</div>}\n            {error && <div>{error}</div>}\n          </div>\n        </div>\n      )}\n      <div className=\"card-market\">\n        <div className=\"card-pilot\">\n          <div className=\"pilot-image\">\n            <img src={img} />\n          </div>\n          <div className=\"pilot-data\">\n            <div>\n              <ul>\n                <li>\n                  <h3 className=\"line\">\n                    {givenName} {familyName}\n                  </h3>\n                </li>\n                <li>\n                  <b>Numero:</b> {permanentNumber}\n                </li>\n                <li>\n                  <b>Valor:</b> {initialValue} €\n                </li>\n                <li>\n                  <b>Fecha Nacimiento:</b> {dateOfBirth}\n                </li>\n              </ul>\n            </div>\n            <div>\n              <img className=\"car-image\" src={car} />\n            </div>\n          </div>\n        </div>\n        {canSignUp && (\n          <div>\n            <button className=\"button\" onClick={handleSignUp}>\n              <b>FICHAR</b>\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}