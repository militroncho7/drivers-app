{"ast":null,"code":"var _jsxFileName = \"/Users/victor/ironhack/modulo3/drivers-app/front/src/pages/League.page.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom'; //Components\n\nimport LeagueView from 'components/screens/Register/League';\nimport getLoggedUser from 'utils/getLoggedUser';\nexport default function League() {\n  const [newLeague, setNewleague] = useState('');\n  const [error, setError] = useState('');\n  const [isCreateLeague, setIsCreateLeague] = useState(false);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    try {\n      const user = getLoggedUser();\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      };\n      const response = await axios.post('http://localhost:1234/league/create', {\n        newLeague\n      }, config);\n      setIsCreateLeague(true);\n    } catch (exception) {\n      setError(exception.response.data.message);\n    }\n  }\n\n  function handleChangeNewLeague(event) {\n    setNewleague(event.target.value);\n  }\n\n  if (isCreateLeague) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/market\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(LeagueView, {\n    onSubmit: handleSubmit,\n    onChangeName: handleChangeNewLeague,\n    error: error,\n    newLeague: newLeague,\n    value: \"Go!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"sources":["/Users/victor/ironhack/modulo3/drivers-app/front/src/pages/League.page.js"],"names":["React","useState","axios","Redirect","LeagueView","getLoggedUser","League","newLeague","setNewleague","error","setError","isCreateLeague","setIsCreateLeague","handleSubmit","event","preventDefault","user","config","headers","Authorization","token","response","post","exception","data","message","handleChangeNewLeague","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,kBAAvB,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AAEA,eAAe,SAASC,MAAT,GAAkB;AAC/B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,cAAD,EAAiBC,iBAAjB,IAAsCX,QAAQ,CAAC,KAAD,CAApD;;AAEA,iBAAeY,YAAf,CAA4BC,KAA5B,EAAmC;AACjCA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAI;AACF,YAAMC,IAAI,GAAGX,aAAa,EAA1B;AACA,YAAMY,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASH,IAAI,CAACI,KAAM;AAD7B;AADI,OAAf;AAKA,YAAMC,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CACrB,qCADqB,EAErB;AACEf,QAAAA;AADF,OAFqB,EAKrBU,MALqB,CAAvB;AAOAL,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,KAfD,CAeE,OAAOW,SAAP,EAAkB;AAClBb,MAAAA,QAAQ,CAACa,SAAS,CAACF,QAAV,CAAmBG,IAAnB,CAAwBC,OAAzB,CAAR;AACD;AACF;;AAED,WAASC,qBAAT,CAA+BZ,KAA/B,EAAsC;AACpCN,IAAAA,YAAY,CAACM,KAAK,CAACa,MAAN,CAAaC,KAAd,CAAZ;AACD;;AAED,MAAIjB,cAAJ,EAAoB;AAClB,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,sBACE,oBAAC,UAAD;AACE,IAAA,QAAQ,EAAEE,YADZ;AAEE,IAAA,YAAY,EAAEa,qBAFhB;AAGE,IAAA,KAAK,EAAEjB,KAHT;AAIE,IAAA,SAAS,EAAEF,SAJb;AAKE,IAAA,KAAK,EAAC,KALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AASD","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport {Redirect} from 'react-router-dom';\n\n//Components\nimport LeagueView from 'components/screens/Register/League';\nimport getLoggedUser from 'utils/getLoggedUser';\n\nexport default function League() {\n  const [newLeague, setNewleague] = useState('');\n  const [error, setError] = useState('');\n  const [isCreateLeague, setIsCreateLeague] = useState(false);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    try {\n      const user = getLoggedUser();\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      };\n      const response = await axios.post(\n        'http://localhost:1234/league/create',\n        {\n          newLeague\n        },\n        config\n      );\n      setIsCreateLeague(true);\n    } catch (exception) {\n      setError(exception.response.data.message);\n    }\n  }\n\n  function handleChangeNewLeague(event) {\n    setNewleague(event.target.value);\n  }\n\n  if (isCreateLeague) {\n    return <Redirect to=\"/market\" />;\n  }\n\n  return (\n    <LeagueView\n      onSubmit={handleSubmit}\n      onChangeName={handleChangeNewLeague}\n      error={error}\n      newLeague={newLeague}\n      value=\"Go!\"\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}