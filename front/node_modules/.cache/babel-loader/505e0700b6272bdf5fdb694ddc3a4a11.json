{"ast":null,"code":"var _jsxFileName = \"/Users/victor/ironhack/modulo3/drivers-app/front/src/pages/Profile.page.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom'; //Components\n\nimport Nav from 'components/Nav/Nav';\nimport Status from 'components/Status/index';\nimport EditProfile from 'components/Profile/index'; // import Footer from 'components/Footer/Footer';\n// import Loading from 'components/Loading/index';\n\nexport default function Profile() {\n  const [username, setUsername] = useState('');\n  const [name, setName] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [isEditSuccessfull, setIsEditSuccessfull] = useState(false);\n\n  async function handleEdit(event) {\n    event.preventDefault();\n\n    try {\n      const response = await axios.post('http://localhost:1234/auth/edit', {\n        username,\n        name,\n        lastname,\n        email\n      });\n      setIsEditSuccessfull(true);\n    } catch (exception) {\n      setError(exception.response.data.message);\n    }\n  }\n\n  function handleChangeUsername(event) {\n    setUsername(event.target.value);\n  }\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  function handleChangeLastname(event) {\n    setLastname(event.target.value);\n  }\n\n  function handleChangeEmail(event) {\n    setEmail(event.target.value);\n  }\n\n  if (isEditSuccessfull) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/market\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Status, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(EditProfile, {\n    onSubmit: handleEdit,\n    onChangeUsername: handleChangeUsername,\n    onChangeName: handleChangeName,\n    onChangeLastname: handleChangeLastname,\n    onChangeEmail: handleChangeEmail,\n    error: error,\n    username: username,\n    name: name,\n    lastname: lastname,\n    email: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/victor/ironhack/modulo3/drivers-app/front/src/pages/Profile.page.js"],"names":["React","useState","axios","Redirect","Nav","Status","EditProfile","Profile","username","setUsername","name","setName","lastname","setLastname","email","setEmail","error","setError","isEditSuccessfull","setIsEditSuccessfull","handleEdit","event","preventDefault","response","post","exception","data","message","handleChangeUsername","target","value","handleChangeName","handleChangeLastname","handleChangeEmail"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,kBAAvB,C,CAEA;;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,WAAP,MAAwB,0BAAxB,C,CACA;AACA;;AAEA,eAAe,SAASC,OAAT,GAAmB;AAChC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACiB,iBAAD,EAAoBC,oBAApB,IAA4ClB,QAAQ,CAAC,KAAD,CAA1D;;AAEA,iBAAemB,UAAf,CAA0BC,KAA1B,EAAiC;AAC/BA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,IAAN,CAAW,iCAAX,EAA8C;AACnEhB,QAAAA,QADmE;AAEnEE,QAAAA,IAFmE;AAGnEE,QAAAA,QAHmE;AAInEE,QAAAA;AAJmE,OAA9C,CAAvB;AAMAK,MAAAA,oBAAoB,CAAC,IAAD,CAApB;AACD,KARD,CAQE,OAAOM,SAAP,EAAkB;AAClBR,MAAAA,QAAQ,CAACQ,SAAS,CAACF,QAAV,CAAmBG,IAAnB,CAAwBC,OAAzB,CAAR;AACD;AACF;;AAED,WAASC,oBAAT,CAA8BP,KAA9B,EAAqC;AACnCZ,IAAAA,WAAW,CAACY,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAX;AACD;;AAED,WAASC,gBAAT,CAA0BV,KAA1B,EAAiC;AAC/BV,IAAAA,OAAO,CAACU,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAP;AACD;;AAED,WAASE,oBAAT,CAA8BX,KAA9B,EAAqC;AACnCR,IAAAA,WAAW,CAACQ,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAX;AACD;;AAED,WAASG,iBAAT,CAA2BZ,KAA3B,EAAkC;AAChCN,IAAAA,QAAQ,CAACM,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAR;AACD;;AAED,MAAIZ,iBAAJ,EAAuB;AACrB,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,sBACE,uDACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAIE,oBAAC,WAAD;AACE,IAAA,QAAQ,EAAEE,UADZ;AAEE,IAAA,gBAAgB,EAAEQ,oBAFpB;AAGE,IAAA,YAAY,EAAEG,gBAHhB;AAIE,IAAA,gBAAgB,EAAEC,oBAJpB;AAKE,IAAA,aAAa,EAAEC,iBALjB;AAME,IAAA,KAAK,EAAEjB,KANT;AAOE,IAAA,QAAQ,EAAER,QAPZ;AAQE,IAAA,IAAI,EAAEE,IARR;AASE,IAAA,QAAQ,EAAEE,QATZ;AAUE,IAAA,KAAK,EAAEE,KAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF;AAqBD","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport {Redirect} from 'react-router-dom';\n\n//Components\nimport Nav from 'components/Nav/Nav';\nimport Status from 'components/Status/index';\nimport EditProfile from 'components/Profile/index';\n// import Footer from 'components/Footer/Footer';\n// import Loading from 'components/Loading/index';\n\nexport default function Profile() {\n  const [username, setUsername] = useState('');\n  const [name, setName] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [isEditSuccessfull, setIsEditSuccessfull] = useState(false);\n\n  async function handleEdit(event) {\n    event.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:1234/auth/edit', {\n        username,\n        name,\n        lastname,\n        email\n      });\n      setIsEditSuccessfull(true);\n    } catch (exception) {\n      setError(exception.response.data.message);\n    }\n  }\n\n  function handleChangeUsername(event) {\n    setUsername(event.target.value);\n  }\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  function handleChangeLastname(event) {\n    setLastname(event.target.value);\n  }\n\n  function handleChangeEmail(event) {\n    setEmail(event.target.value);\n  }\n\n  if (isEditSuccessfull) {\n    return <Redirect to=\"/market\" />;\n  }\n\n  return (\n    <>\n      <Nav />\n      <Status />\n\n      <EditProfile\n        onSubmit={handleEdit}\n        onChangeUsername={handleChangeUsername}\n        onChangeName={handleChangeName}\n        onChangeLastname={handleChangeLastname}\n        onChangeEmail={handleChangeEmail}\n        error={error}\n        username={username}\n        name={name}\n        lastname={lastname}\n        email={email}\n      />\n\n      {/* <Footer /> */}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}